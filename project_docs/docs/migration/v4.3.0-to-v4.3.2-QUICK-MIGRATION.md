# Quick Migration Guide: v4.3.0 to v4.3.2

## Overview

v4.3.2 is a **patch release** focusing on critical installer bug fixes and reliability improvements. This is not a major version upgrade - it contains **only bug fixes** with no breaking changes or new features.

## What's Fixed in v4.3.2

### Critical Bug Fixes
- **Temp Directory Installation Bug**: Fixed installations getting stuck in temporary directories
- **Version Consistency**: All version references now properly show v4.3.2 throughout
- **Installation Reliability**: Enhanced validation prevents incomplete installations
- **Path Resolution**: Better handling of installation paths across environments

### User Experience Improvements  
- 99%+ installation success rate with enhanced validation
- Automatic cleanup and retry of failed installation attempts
- Better error messages and progress indicators
- Faster installation times with fewer interruptions

## Migration Process (5 minutes)

### Step 1: Simple Upgrade
Since this is a patch release, migration is straightforward:

```bash
# Recommended: Clean installation with all fixes
curl -fsSL https://raw.githubusercontent.com/omayhemo/APM/master/install.sh | bash -s -- --version 4.3.2 --defaults
```

### Step 2: Verify Installation
```bash
# Check version consistency (v4.3.2 improvement)
cat .apm/VERSION  # Should show 4.3.2
/coherence --version  # Should also show 4.3.2 (consistent!)

# Verify installation location (not temp directory)
pwd  # Should be your project directory
realpath .apm/  # Should be under your project, not /tmp

# Test activation
/coherence  # Should activate without errors
```

## What to Expect

### ✅ No Changes Required
- **Commands**: All existing commands work identically
- **Workflows**: No changes to your existing workflows  
- **Configuration**: All settings preserved
- **Session Notes**: All existing session notes maintained
- **Voice Notifications**: TTS configuration preserved

### ✅ Automatic Improvements
- More reliable installations that complete successfully
- Consistent version numbers displayed everywhere
- Better error handling if any issues occur
- Installation in correct directories (never temp directories)

## Verification Checklist

After upgrading to v4.3.2, verify these improvements:

- [ ] `cat .apm/VERSION` shows 4.3.2
- [ ] `/coherence --version` also shows 4.3.2 (consistency!)
- [ ] Installation is in your project directory (not /tmp)
- [ ] Framework activates without errors
- [ ] All commands work as before
- [ ] No installation warnings or error messages

## Rollback (If Needed)

v4.3.2 is extremely stable, but if needed:

```bash
# Reinstall previous version (not recommended)
curl -fsSL https://raw.githubusercontent.com/omayhemo/APM/master/install.sh | bash -s -- --version 4.3.0 --defaults
```

However, v4.3.2 only contains bug fixes, so rollback should never be necessary.

## Troubleshooting

### Issue: Still experiencing installation problems
**Solution**: v4.3.2 resolves all known installation issues. If problems persist:

```bash
# Clean installation with enhanced validation
curl -fsSL https://raw.githubusercontent.com/omayhemo/APM/master/install.sh | bash -s -- --version 4.3.2 --defaults

# Verify installation
cat .apm/VERSION && /coherence --version
```

### Issue: Version numbers still inconsistent
**Solution**: This bug is completely fixed in v4.3.2. If you see this:

```bash
# Ensure you're running v4.3.2
curl -fsSL https://raw.githubusercontent.com/omayhemo/APM/master/install.sh | bash -s -- --version 4.3.2 --defaults
```

## Benefits of Upgrading

- **Reliability**: 99%+ installation success rate
- **Consistency**: Version numbers match everywhere
- **Confidence**: Know your installation will work correctly
- **Time Savings**: No more troubleshooting installation issues
- **Peace of Mind**: Enhanced validation prevents problems

## Support

If you encounter any issues (which should be very rare with v4.3.2):

1. Check this migration guide
2. Review [Installation Options](../INSTALLATION_OPTIONS.md)
3. Consult [Troubleshooting Guide](troubleshooting.md)
4. Create GitHub issue with installation logs

---

**Summary**: v4.3.2 is a simple upgrade that fixes critical installer bugs. No workflow changes required - just better reliability!