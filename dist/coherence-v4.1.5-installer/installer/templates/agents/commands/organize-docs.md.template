# Organize Documentation Command

## Command: `/documentation-organize`

A comprehensive documentation organization system that ensures all project documentation is properly structured, linked, and accessible.

## Overview

The `/documentation-organize` command provides intelligent documentation management capabilities:
- Detects orphaned documents and broken links
- Creates comprehensive cross-references
- Ensures all docs connect to index.md
- Generates visual documentation graphs
- Safely reorganizes documentation structure

## Usage

```bash
/documentation-organize [subcommand] [options]
```

## Subcommands

### Analysis Commands

#### `scan`
Performs comprehensive documentation structure analysis.
```bash
/documentation-organize scan [--verbose] [--check-links] [--fix]
```
- `--verbose`: Show detailed analysis
- `--check-links`: Validate all internal/external links
- `--fix`: Automatically fix simple issues

#### `validate`
Validates documentation against defined rules and standards.
```bash
/documentation-organize validate [--rules <file>] [--strict] [--fix-warnings]
```
- `--rules`: Custom rules file (default: doc-standards.yaml)
- `--strict`: Fail on warnings
- `--fix-warnings`: Auto-fix warning-level issues

#### `graph`
Generates visual representation of documentation relationships.
```bash
/documentation-organize graph [--format <type>] [--output <file>] [--depth <n>]
```
- `--format`: Output format (png, svg, dot, mermaid)
- `--output`: Output file path
- `--depth`: Maximum graph depth

#### `orphans`
Finds documents with no incoming links.
```bash
/documentation-organize orphans [--suggest-links] [--add-to-index]
```
- `--suggest-links`: Suggest parent documents
- `--add-to-index`: Automatically add to nearest index

### Organization Commands

#### `restructure`
Reorganizes documentation based on specified strategy.
```bash
/documentation-organize restructure --strategy <type> [--dry-run] [--backup <dir>]
```
Strategies:
- `topic-based`: Group by subject matter
- `audience-based`: Organize by user type
- `lifecycle-based`: Arrange by document status
- `flat`: Minimize directory depth

#### `link`
Manages document cross-references.
```bash
/documentation-organize link [--create-bidirectional] [--fix-broken] [--add-breadcrumbs]
```
- `--create-bidirectional`: Ensure parentâ†”child links
- `--fix-broken`: Repair broken internal links
- `--add-breadcrumbs`: Add navigation breadcrumbs

#### `index`
Creates or updates documentation indexes.
```bash
/documentation-organize index [--create-missing] [--update-all] [--template <file>]
```
- `--create-missing`: Generate missing index files
- `--update-all`: Refresh all existing indexes
- `--template`: Custom index template

#### `migrate`
Migrates documentation between formats or structures.
```bash
/documentation-organize migrate --from <format> --to <format> [--preserve-history]
```
- Supports: markdown, restructuredtext, asciidoc
- `--preserve-history`: Keep git history

### Report Commands

#### `summary`
Generates comprehensive documentation summary.
```bash
/documentation-organize summary [--format <type>] [--export <file>]
```
- `--format`: Output format (markdown, json, html)
- `--export`: Save report to file

#### `health`
Performs documentation health check.
```bash
/documentation-organize health [--score] [--fix-critical] [--mode <type>]
```
- `--score`: Show numeric health score
- `--fix-critical`: Auto-fix critical issues
- `--mode`: Check mode (quick, standard, thorough)

#### `recommendations`
Provides AI-powered improvement suggestions.
```bash
/documentation-organize recommendations [--limit <n>] [--effort <level>]
```
- `--limit`: Maximum recommendations
- `--effort`: Filter by effort (quick-wins, moderate, major)

## Configuration

Configuration file location: `{{PROJECT_ROOT}}/.apm/config/documentation-organize.yaml`

```yaml
organize_docs:
  paths:
    project_docs: "./project_docs"
    index_file: "index.md"
    ignore_patterns:
      - "*.tmp"
      - ".draft*"
      - "archive/**"
  
  rules:
    enforce_index_connectivity: true
    max_orphan_percentage: 0
    require_bidirectional_links: true
    
  automation:
    weekly_health_check: true
    auto_fix_broken_links: true
    generate_missing_indexes: true
```

## Examples

### Quick Documentation Health Check
```bash
/documentation-organize health --score
```

### Find and Fix Common Issues
```bash
/documentation-organize scan --check-links --fix
/documentation-organize orphans --add-to-index
```

### Weekly Maintenance Workflow
```bash
/documentation-organize health --mode batch --fix-critical
/documentation-organize orphans --suggest-links
/documentation-organize summary --export weekly-report.md
```

### Major Documentation Reorganization
```bash
# Preview changes
/documentation-organize restructure --strategy topic-based --dry-run

# Create backup and apply
/documentation-organize restructure --strategy topic-based --backup ./doc-backup

# Validate results
/documentation-organize validate --strict
/documentation-organize graph --format png --output new-structure.png
```

## Integration with APM

This command integrates seamlessly with the APM Analyst persona:
- Automatically activates for complex analysis tasks
- Uses APM voice notifications for status updates
- Can generate tasks for PM handoff
- Leverages parallel processing for large documentation sets

## Best Practices

1. **Run weekly health checks** to maintain documentation quality
2. **Always use --dry-run** before major reorganizations
3. **Create backups** before structural changes
4. **Review AI recommendations** before applying
5. **Maintain index.md** as your documentation hub
6. **Use relative links** for portability
7. **Document your organization strategy** in the config

## Troubleshooting

### Common Issues

**"Too many orphaned documents"**
- Run `/documentation-organize orphans --suggest-links` to get recommendations
- Use `/documentation-organize index --create-missing` to generate indexes

**"Broken links detected"**
- Run `/documentation-organize link --fix-broken` for automatic fixes
- Check `/documentation-organize scan --verbose` for detailed issues

**"Documentation structure unclear"**
- Generate a graph: `/documentation-organize graph --format png`
- Review recommendations: `/documentation-organize recommendations`

## Related Commands

- `/parallel-requirements` - Gather requirements for documentation
- `/generate-index` - Create specific index pages
- `/validate-links` - Quick link validation